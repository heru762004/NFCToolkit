<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<style>
	html, body {
		margin: 3px;  
	}
	table, th, td {
		table-layout: fixed ; 
		border: 1px solid gray ; 
		border-collapse: collapse;
		word-wrap:break-word;
    }
</style>
</head>
<body>
<div align='center' id='mainmenu'><img src='./resources/ic_launcher.png'></img><BR><h3>NFCToolkit 1.0</h3>Original Author : heru762004<hr></div>
<div align='left'>
	<ol>
		<li><a href='#whatisnfctoolkit'>What is NFCToolkit?</a></li>
		<li><a href='#featurenfc'>What are the features on NFCToolkit?</a></li>
		<li><a href='#runsimplecommand'>How to run the simple command?</a></li>
		<li><a href='#runscript'>How to use the script?</a></li>
		<li><a href='#capfiledef'>What is CAP file?</a></li>
		<li><a href='#capfileload'>How to load the CAP file?</a></li>
		<li><a href='#sendlog'>How to send the NFCToolkit log via NFCToolkit app?</a></li>
		<li><a href='#listcommands'>Appendix : List of Script Commands</a></li>
	</ol>
	<BR><BR>
	<div id='whatisnfctoolkit'>
		<h3>What is NFCToolkit?</h3>
		<hr>
		NFCToolkit is an android application to send commands to secure element.<BR>
		This application able to send commands to different type secure element such as UICC SIM, Micro SD, Embedded Secure Element, and OTI Wave.<BR><BR>
		This application use several API and library to access to the secure element. These API / Library are :
		<ul>
			<li>Open Mobile API : <a href='https://code.google.com/p/seek-for-android/wiki/Index'>link</a></li>
			<li>Device Fidelity API for Android 2.3.3</li>
			<li>Android Tag Tech API : <a href='http://developer.android.com/reference/android/nfc/tech/IsoDep.html'>link</a>
			<li>Copni SDK for Android 1.0.1.1</a>
		</ul>
		<hr>
		<a href='#mainmenu'>&#8593;Back to top</a>
	</div>
	<BR><BR>
	<div id='featurenfc'>
		<h3>What are the features on NFCToolkit?</h3>
		<hr>
		<ol type='a'>
			<li>
				Display the device details everytime the app launched. The device details including : Device model, Android os version, SCAPI version (open mobile api), nfctoolkit app version, Copni SDK version (OTI Wave), and Device Fidelity API version
			</li>
			<BR>
			<li>
				Select the reader type (Supported Reader : SmartMX / Embedded SE, Device Fidelity Micro SD, UICC / SIM, IsoDep Tech Contactless Card, and OTI Wave).
			</li>
			<BR>
			<li>
				Change channel (Basic / Logical). This feature only enabled on SmartMX and UICC / SIM reader type.
			</li>
			<BR>
			<li>
				Save and send the log to developer email.
			</li>
			<BR>
			<li>
				Run the batch of commands from the script.
			</li>
			<BR>
			<li>
				Run the batch of commands from PC <font color='red'>(Note : Need OMARemote app and it works only on Windows)</font>.
			</li>
			<BR>
			<li>
				Run the batch of commands from the OMA Server <font color='red'>(Deprecated)</font>.
			</li>
		</ol>
		<hr>
		<a href='#mainmenu'>&#8593;Back to top</a>
	</div>
	<BR><BR>
	<div id='runsimplecommand'>
		<h3>How to run the simple command?</h3>
		<hr>
		<ol type='a'>
			<li>
				Before execute a command, you need to put the Secure Element AID on the AID box and put a command on the command box<BR>
				<img src='./resources/1.png'></img>
			</li>
			<BR>
			<li>
				Next step, you need to set the reader type<BR>
				<img src='./resources/2.png'></img><BR>
			</li>
			<BR>
			<li>
				And the channel (This menu only appear if you choose eSE or SIM as the reader type)<BR>
				<img src='./resources/3.png'></img><BR>
			</li>
			<BR>
			<li>
				Click "Run" button and see the result<BR>
				<img src='./resources/4.png'></img><BR>
			</li>
		</ol>
		<hr>
		<a href='#mainmenu'>&#8593;Back to top</a>
	</div>
	<BR><BR>
	<div id='runscript'>
		<h3>How to use the script?</h3>
		<hr>
		<ol type='a'>
			<li>Copy the script to the phone (*.hp)<BR>For example: storage/emulated/0/NFCToolkit/script.hp</li><BR>
			<li>Use the File Explorer to go to script location</li><BR>
			<li>Click on the script file and it will automatically launch the NFCToolkit app and load the script<BR><img src='./resources/5.png'></li><BR>
			<li>Click "Menu" and select "Run from Script"<BR><img src='./resources/6.png'></li><BR>
		</ol><BR>
		<font color='red'>Note : If you wish to load the same script, no need to follow these steps again. Just launched the app, and the app will automatically load the last script.</font>
		<hr>
		<a href='#mainmenu'>&#8593;Back to top</a>
	</div>
	<BR><BR>
	<div id='capfiledef'>
		<h3>What is CAP file?</h3>
		<hr>
		CAP file is converted applet file format. Each CAP file contains all of the classes and interfaces defined in one Java package.<BR><BR>
		A CAP file consists of a stream of 8-bit bytes. All 16-bit and 32-bit quantities are constructed by reading in two and four consecutive 8-bit bytes, respectively. Multibyte data items are always stored in big-endian order, where the high-order bytes come first. The first bit read of an 8-bit quantity is considered the high bit.<BR><BR>
		NFCToolkit support to load CAP file and parsed of the CAP file. you can get parsed of the CAP file from SCTK.<BR><BR>
		<font color='red'>Important Note : You can only load CAP from the script.</font>
		<hr>
		<a href='#mainmenu'>&#8593;Back to top</a>
	</div>
	<BR><BR>
	<div id='capfileload'>
		<h3>How to load the CAP file?</h3>
		<hr>
		<ol type='a'>
			<li>Copy the CAP file or the parsed CAP file into NFCToolkit phone folder.<BR><font color='red'>Note :<BR>
			<ul>
				<li>You need to copy CAP file / parsed CAP file into cap folder inside the phone. Usual path is storage/emulated/0/NFCToolkit/cap/</li>
				<li>If you cannot find it, please launch the app for the folder creation.</li>
			</ul>
			</font></li><BR>
			<li>Add loadapplet command to the script. For example : "loadapplet test.cap.parsed;" </li><BR>
			<li>Click on the script file and it will automatically launch the NFCToolkit app and load the script<BR><img src='./resources/5.png'></li><BR>
			<li>Click "Menu" and select "Run from Script"<BR><img src='./resources/6.png'></li><BR>
		</ol>
		<hr>
		<a href='#mainmenu'>&#8593;Back to top</a>
	</div>
	<BR><BR>
	<div id='sendlog'>
		<h3>How to send the NFCToolkit log via NFCToolkit app?</h3>
		<hr>
		It is very easy to send the log via NFCToolkit app.<BR><BR>
		Important Notes : <BR>
		<ul>
			<li>The app only store the latest log and only can send the latest log. All the previous log will be overwritten.</li>
			<li>You need to set up Gmail Account on your phone before using this feature</li>
		</ul><BR><BR>
		Here's the tutorial how to send the log
		<ol type='a'>
			<li>Click "Menu" and select "Send Log"<BR><img src='./resources/7.png'></li><BR>
			<li>It will automatically launch the "Gmail app" and attached the log. What you need to do is just click "Send" button<BR><img src='./resources/8.png'></li><BR>
		</ol>
		<hr>
		<a href='#mainmenu'>&#8593;Back to top</a>
	</div>
	<BR><BR>
	<div id='listcommands'>
		<h3>Appendix : List of Script Commands</h3>
		<hr>
		<table width='100%' style='font-size:small'>
			<tr><th width='20%'>Command</th><th width='80%'>Definition</th></tr>
			<tr><td width='20%'>SetSecureChannel</td><td width='80%'>To set all the commands into secure commands.<BR><div style='font-size:small'>E.x : SetSecureChannel 1;</div></td></tr>
			<tr><td width='20%'>devicelog</td><td width='80%'>To enable or disable the device log.<BR><div style='font-size:small'>E.x : devicelog 1;</div></td></tr>
			<tr><td width='20%'>setreader</td><td width='80%'>To set the reader type via script<BR>Possible values : SIM, DF, IsoDep, eSE, and OTI<BR><div style='font-size:small'>E.x : setreader SIM;</div></td></tr>
			<tr><td width='20%'>setchannel</td><td width='80%'>To set the channel via script<BR>Possible values : basic, and logical<BR><div style='font-size:small'>E.x : setchannel logical;</div></td></tr>
			<tr><td width='20%'>SetStaticKeyENC<BR>SetStaticKeyMAC<BR>SetStaticKeyKEK</td><td width='80%'>To set the static keys (ENC, MAC, and KEK)<BR><div style='font-size:small'>E.x :<BR>SetStaticKeyENC 404142434445464748494A4B4C4D4E48;<BR>SetStaticKeyMAC 404142434445464748494A4B4C4D4E48;<BR>SetStaticKeyKEK 404142434445464748494A4B4C4D4E48;</div></td></tr>
			<tr><td width='20%'>SetMasterKey</td><td width='80%'>To set the Master Key.<BR>Format : SetMasterKey &#60;&#60;master key&#62;&#62; &#60;&#60;derivation method type&#62;&#62;<BR>Derivation method type possible values : 1 (GTO Orange Derivation Method - Default), 0 (CPG 211), 2 (CPG 204)<div style='font-size:small'>E.x :<BR>SetMasterKey CDE931FE73B558BF6D54763857A7CE08;<BR>SetMasterKey CDE931FE73B558BF6D54763857A7CE08 0;</div></td></tr>
			<tr><td width='20%'>select</td><td width='80%'>To open connection to secure element and select Application ID<BR><div style='font-size:small'>E.x : select A00000015100000000000000C2010000;</div></td></tr>
			<tr><td width='20%'>initupdate</td><td width='80%'>Send initialize update command.<BR>Format : initupdate &#60;&#60;key version&#62;&#62;<BR><div style='font-size:small'>E.x : initupdate 33;</div></td></tr>
			<tr><td width='20%'>extauth</td><td width='80%'>Send external authenticate command.<BR>Format : extauth &#60;&#60;mode&#62;&#62;<BR>Note : Mode 202 to put key command<BR><div style='font-size:small'>E.x :<BR>extauth 202;<BR>extauth 204;</div></td></tr>
			<tr><td width='20%'>sendapdu</td><td width='80%'>Send APDU command.<BR>Format : sendapdu &#60;&#60;apdu&#62;&#62; &#60;&#60;le&#62;&#62;<BR>Note : le is optional. Some of the phone may need to add le to some specific command to get 9000<BR><div style='font-size:small'>E.x :<BR>sendapdu 80E40080084F06A00000000410;<BR>sendapdu 80E40080084F06A00000000410 00;</div></td></tr>
			<tr><td width='20%'>delete</td><td width='80%'>To delete the application<BR>Format : delete &#60;&#60;application aid&#62;&#62;<BR><div style='font-size:small'>E.x :<BR>delete A0000000035574696C;</div></td></tr>
			<tr><td width='20%'>loadapplet</td><td width='80%'>To load the applet<BR>Format : loadapplet &#60;&#60;cap filename&#62;&#62;<BR><div style='font-size:small'>E.x :<BR>loadapplet kebt_PayPassMChip4.cap.parsed;</div></td></tr>
			<tr><td width='20%'>SetNewStaticKeyENC<BR>SetNewStaticKeyMAC<BR>SetNewStaticKeyKEK</td><td width='80%'>To set new static keys (ENC, MAC, and KEK)<BR><div style='font-size:small'>E.x :<BR>SetNewStaticKeyENC 404142434445464748494A4B4C4D4E48;<BR>SetNewStaticKeyMAC 404142434445464748494A4B4C4D4E48;<BR>SetNewStaticKeyKEK 404142434445464748494A4B4C4D4E48;</div></td></tr>
			<tr><td width='20%'>putkey</td><td width='80%'>To add or update the key<BR>Format : putkey &#60;&#60;mode&#62;&#62; &#60;&#60;keyset&#62;&#62;<BR>Possible Mode : 1 - Add, 2 - Update<BR>Before using, need to set new static ENC, MAC, and KEK<BR><div style='font-size:small'>E.x :<BR>putkey 1 1;</div></td></tr>
		</table>
		<hr>
		<a href='#mainmenu'>&#8593;Back to top</a>
	</div>
</div>
</body>